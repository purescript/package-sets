language: c
dist: trusty
sudo: required

cache:
  directories:
  - .psc-package
  - output
  
env:
  - PATH=$HOME/purescript:$PATH
  
install:
  - TAG=v0.10.4
  - wget -O $HOME/purescript.tar.gz https://github.com/purescript/purescript/releases/download/$TAG/linux64.tar.gz
  - tar -xvf $HOME/purescript.tar.gz -C $HOME/
  - chmod a+x $HOME/purescript
  
script:
  - echo "{ \"name": "x", \"set\": \"testing\", \"source\": \"\", \"depends\": [] }" > psc-package.json
  - mkdir -p .psc-package/testing/.set
  - cp packages.json .psc-package/testing/.set/packages.json
  - psc-package verify-set
